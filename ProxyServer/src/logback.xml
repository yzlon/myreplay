<?xml version="1.0" encoding="UTF-8"?>

<configuration>
   <!--定义时间戳-->
   <timestamp key="byDay" datePattern="yyyy-MM-dd"/>

   <!--定义指定文件名称的输出-->
   <appender name="RootFileAppender" class="ch.qos.logback.core.rolling.RollingFileAppender">
      <!--此处设定的文件名称是动态设置的  即每天生成一个文件用于记录当天的文件信息-->
      <file>./log/PkgContent-${byDay}.log</file>
      <append>true</append>
      
      <rollingPolicy class="ch.qos.logback.core.rolling.FixedWindowRollingPolicy">
         <fileNamePattern>./log/PkgContent-${byDay}.log.%i</fileNamePattern>
         <MinIndex>1</MinIndex>
         <MaxIndex>50</MaxIndex>
       </rollingPolicy>
       
      <triggeringPolicy class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy">
         <MaxFileSize>10MB</MaxFileSize>
      </triggeringPolicy>
      
      <layout class="ch.qos.logback.classic.PatternLayout">
         <pattern>%d{yyyy-MM-dd HH:mm:ss}, %p, %c, %t, %F, %L, %C{1}, %M %m%n</pattern>
      </layout>
      
      <filter class="ch.qos.logback.classic.filter.ThresholdFilter">
         <level>info</level>
       </filter>
       <!--过滤器指定该类的日志级别-->
   </appender>
   
   <!--定义控制台输出-->
   <appender name="RootConsoleAppender" class="ch.qos.logback.core.ConsoleAppender">
         
      <filter class="ch.qos.logback.classic.filter.ThresholdFilter">
         <level>info</level>
      </filter>
      
      <layout class="ch.qos.logback.classic.PatternLayout">
         <pattern>%d{yyyy-MM-dd HH:mm:ss}, 【%p】, %c, %t, %F, %L, %C{1}, %M %m%n</pattern>
       </layout>
   </appender>
   
   <!-- 设置根 的日志级别，根元素是配置文件的入口-->
   <root>
      <level value="info"/>
       <appender-ref ref="RootFileAppender"/> <!-- 配置对RootFileAppender的引用-->
      <appender-ref ref="RootConsoleAppender"/> <!-- 配置对RootConsoleAppender的引用-->
   </root>

</configuration>
